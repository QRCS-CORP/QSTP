\doxysection{C\+:/\+Users/stepp/\+Documents/\+Visual Studio 2022/\+Projects/\+C/\+QSTP/\+QSTP/client.h File Reference}
\hypertarget{client_8h}{}\label{client_8h}\index{C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/QSTP/QSTP/client.h@{C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/QSTP/QSTP/client.h}}


QSTP Client functions.  


{\ttfamily \#include "{}qstp.\+h"{}}\newline
{\ttfamily \#include "{}../../\+QSC/\+QSC/rcs.\+h"{}}\newline
{\ttfamily \#include "{}../../\+QSC/\+QSC/socketclient.\+h"{}}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{common_8h_a3f0b9b1611da0c7ec65aff9e0ee782b7}{QSTP\+\_\+\+EXPORT\+\_\+\+API}} \mbox{\hyperlink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} \mbox{\hyperlink{client_8h_a57cb7689745f44cf5f4c22029c75f993}{qstp\+\_\+client\+\_\+connect\+\_\+ipv4}} (const \mbox{\hyperlink{structqstp__root__certificate}{qstp\+\_\+root\+\_\+certificate}} \texorpdfstring{$\ast$}{*}root, const \mbox{\hyperlink{structqstp__server__certificate}{qstp\+\_\+server\+\_\+certificate}} \texorpdfstring{$\ast$}{*}cert, const qsc\+\_\+ipinfo\+\_\+ipv4\+\_\+address \texorpdfstring{$\ast$}{*}address, uint16\+\_\+t port, void(\texorpdfstring{$\ast$}{*}send\+\_\+func)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), void(\texorpdfstring{$\ast$}{*}receive\+\_\+callback)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const char \texorpdfstring{$\ast$}{*}, size\+\_\+t))
\begin{DoxyCompactList}\small\item\em Connect to the remote server using IPv4 and perform the key exchange. \end{DoxyCompactList}\item 
\mbox{\hyperlink{common_8h_a3f0b9b1611da0c7ec65aff9e0ee782b7}{QSTP\+\_\+\+EXPORT\+\_\+\+API}} \mbox{\hyperlink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} \mbox{\hyperlink{client_8h_ab7e0307c1959634f2cb49c40dfc01027}{qstp\+\_\+client\+\_\+connect\+\_\+ipv6}} (const \mbox{\hyperlink{structqstp__root__certificate}{qstp\+\_\+root\+\_\+certificate}} \texorpdfstring{$\ast$}{*}root, const \mbox{\hyperlink{structqstp__server__certificate}{qstp\+\_\+server\+\_\+certificate}} \texorpdfstring{$\ast$}{*}cert, const qsc\+\_\+ipinfo\+\_\+ipv6\+\_\+address \texorpdfstring{$\ast$}{*}address, uint16\+\_\+t port, void(\texorpdfstring{$\ast$}{*}send\+\_\+func)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), void(\texorpdfstring{$\ast$}{*}receive\+\_\+callback)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const char \texorpdfstring{$\ast$}{*}, size\+\_\+t))
\begin{DoxyCompactList}\small\item\em Connect to the remote server using IPv6 and perform the key exchange. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
QSTP Client functions. 

This header defines functions used to implement the client in the Quantum Secure Tunneling Protocol (QSTP). The client connection functions enable a QSTP client to establish a secure connection to a remote QSTP server using the key exchange mechanism. In this process, the client authenticates the server by validating its certificate against a provided root certificate. The functions support both IPv4 and IPv6 network addresses.

The key exchange process performed by these functions includes\+:
\begin{DoxyItemize}
\item Authenticating the server using the provided QSTP root certificate (as the trust anchor) and the server certificate.
\item Executing the key exchange protocol to establish a secure tunnel.
\item Invoking callback functions to manage outgoing messages and to process incoming data streams.
\end{DoxyItemize}

Upon successful completion, the QSTP connection state is established and returned through the callback functions. The return value is of type {\ttfamily \doxylink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} which indicates the success or failure of the connection attempt. 

\doxysubsection{Function Documentation}
\Hypertarget{client_8h_a57cb7689745f44cf5f4c22029c75f993}\index{client.h@{client.h}!qstp\_client\_connect\_ipv4@{qstp\_client\_connect\_ipv4}}
\index{qstp\_client\_connect\_ipv4@{qstp\_client\_connect\_ipv4}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{qstp\_client\_connect\_ipv4()}{qstp\_client\_connect\_ipv4()}}
{\footnotesize\ttfamily \label{client_8h_a57cb7689745f44cf5f4c22029c75f993} 
\mbox{\hyperlink{common_8h_a3f0b9b1611da0c7ec65aff9e0ee782b7}{QSTP\+\_\+\+EXPORT\+\_\+\+API}} \mbox{\hyperlink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} qstp\+\_\+client\+\_\+connect\+\_\+ipv4 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structqstp__root__certificate}{qstp\+\_\+root\+\_\+certificate}} \texorpdfstring{$\ast$}{*}}]{root}{, }\item[{const \mbox{\hyperlink{structqstp__server__certificate}{qstp\+\_\+server\+\_\+certificate}} \texorpdfstring{$\ast$}{*}}]{cert}{, }\item[{const qsc\+\_\+ipinfo\+\_\+ipv4\+\_\+address \texorpdfstring{$\ast$}{*}}]{address}{, }\item[{uint16\+\_\+t}]{port}{, }\item[{void(\texorpdfstring{$\ast$}{*}}]{send\+\_\+func~}{)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), }\item[{void(\texorpdfstring{$\ast$}{*}}]{receive\+\_\+callback~}{)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const char \texorpdfstring{$\ast$}{*}, size\+\_\+t)}\end{DoxyParamCaption})}



Connect to the remote server using IPv4 and perform the key exchange. 

This function establishes a connection to a remote QSTP server over IPv4 and initiates the key exchange. It authenticates the server by verifying its certificate against the provided root certificate. After successful authentication and key exchange, a secure communication tunnel is established. The function then invokes the provided callback functions\+: one for managing the outgoing message send loop and another for processing the incoming server data stream.


\begin{DoxyParams}{Parameters}
{\em root} & \mbox{[}const\mbox{]} A pointer to the QSTP root certificate, serving as the trust anchor for server authentication. \\
\hline
{\em cert} & \mbox{[}const\mbox{]} A pointer to the QSTP server certificate used for authenticating the server. \\
\hline
{\em address} & \mbox{[}const\mbox{]} A pointer to the server\textquotesingle{}s IPv4 network address. \\
\hline
{\em port} & The QSTP application port number (typically defined by QSTP\+\_\+\+SERVER\+\_\+\+PORT). \\
\hline
{\em send\+\_\+func} & A pointer to the callback function responsible for the message send loop. \\
\hline
{\em receive\+\_\+callback} & A pointer to the callback function used to process the server\textquotesingle{}s incoming data stream.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a value of type {\ttfamily \doxylink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} indicating the success or failure of the connection attempt. 
\end{DoxyReturn}
\Hypertarget{client_8h_ab7e0307c1959634f2cb49c40dfc01027}\index{client.h@{client.h}!qstp\_client\_connect\_ipv6@{qstp\_client\_connect\_ipv6}}
\index{qstp\_client\_connect\_ipv6@{qstp\_client\_connect\_ipv6}!client.h@{client.h}}
\doxysubsubsection{\texorpdfstring{qstp\_client\_connect\_ipv6()}{qstp\_client\_connect\_ipv6()}}
{\footnotesize\ttfamily \label{client_8h_ab7e0307c1959634f2cb49c40dfc01027} 
\mbox{\hyperlink{common_8h_a3f0b9b1611da0c7ec65aff9e0ee782b7}{QSTP\+\_\+\+EXPORT\+\_\+\+API}} \mbox{\hyperlink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} qstp\+\_\+client\+\_\+connect\+\_\+ipv6 (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structqstp__root__certificate}{qstp\+\_\+root\+\_\+certificate}} \texorpdfstring{$\ast$}{*}}]{root}{, }\item[{const \mbox{\hyperlink{structqstp__server__certificate}{qstp\+\_\+server\+\_\+certificate}} \texorpdfstring{$\ast$}{*}}]{cert}{, }\item[{const qsc\+\_\+ipinfo\+\_\+ipv6\+\_\+address \texorpdfstring{$\ast$}{*}}]{address}{, }\item[{uint16\+\_\+t}]{port}{, }\item[{void(\texorpdfstring{$\ast$}{*}}]{send\+\_\+func~}{)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}), }\item[{void(\texorpdfstring{$\ast$}{*}}]{receive\+\_\+callback~}{)(\mbox{\hyperlink{structqstp__connection__state}{qstp\+\_\+connection\+\_\+state}} \texorpdfstring{$\ast$}{*}, const char \texorpdfstring{$\ast$}{*}, size\+\_\+t)}\end{DoxyParamCaption})}



Connect to the remote server using IPv6 and perform the key exchange. 

This function establishes a connection to a remote QSTP server over IPv6 and initiates the key exchange. The server is authenticated by validating its certificate against the provided QSTP root certificate. Following successful authentication and key exchange, a secure tunnel is established. The provided callback functions are then used to manage the outgoing message send loop and to process incoming server data.


\begin{DoxyParams}{Parameters}
{\em root} & \mbox{[}const\mbox{]} A pointer to the QSTP root certificate used as the trust anchor. \\
\hline
{\em cert} & \mbox{[}const\mbox{]} A pointer to the QSTP server certificate. \\
\hline
{\em address} & \mbox{[}const\mbox{]} A pointer to the server\textquotesingle{}s IPv6 network address. \\
\hline
{\em port} & The QSTP application port number (typically defined by QSTP\+\_\+\+SERVER\+\_\+\+PORT). \\
\hline
{\em send\+\_\+func} & A pointer to the callback function responsible for the message send loop. \\
\hline
{\em receive\+\_\+callback} & A pointer to the callback function used to process the server\textquotesingle{}s incoming data stream.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns a value of type {\ttfamily \doxylink{qstp_8h_a79f518d89bcc513585dd80cce892d853}{qstp\+\_\+errors}} representing the outcome of the connection and key exchange. 
\end{DoxyReturn}
